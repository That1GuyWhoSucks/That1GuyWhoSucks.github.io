---
permalink: /audioimage
---
{% include header.html %}
<p>converts images to audio and vice versa</p>
<a class="center" href="/displayfull.html">
    <img class="imgmax" src="/assets/NGGYU.PNG" alt="">
</a>


<p>The image above may look like just a dark square, however it actually contains the raw audio data for a .mp3</p>
<p>Each pixel holds a series of intergers that are the representation of the audio</p>
<p>The audio used to create this was 300 seconds long and it encoded to be 6381 by 6381 pixels</p>
<p>Zoomed image below</p>
<div class="imgcut">
    <img src="/assets/zoomedNGGYU.png" alt="">
</div>

<p>By taking each segment and encoding it in a way that a RGB value can store</p>
<p>Its like a QR code, except instead of taking the user to a link, it is the original data. It just needs to be decoded.</p>
<div>
    <pre><code class="center">def split(val: int, size=2):
    st = str(val)
    ret = []
    while st:
        item = st[:size]
        if item == "00":
            item = "100"
        elif item == "0":
            item = "110"
        elif len(item) == 2 and item[0] == "0":
            item = "20" + str(item[1])
        ret.append(int(item))
        st = st[size:]
    while len(ret) < 3:
        ret.append(0)
    return ret

def audiotoimage(file: str):
    a = pydub.AudioSegment.from_mp3(file)
    array = np.array(a.get_array_of_samples())  # get audio array
    new_audio_data = array.tobytes()  # turn into into numbers to be converted to pixels
    size = math.ceil(math.sqrt(len(new_audio_data)))  # get size of to be image
    img = Image.new('RGB', (size, size))

    size -= 1  # size for pix is one less
    cord = [0, 0]  # cord setup

    for i in new_audio_data:
        val = split(i)  # split int groups of two
        while len(val) < 3:
            val.append(0)
        img.putpixel(tuple(cord), tuple(val))
        if cord[0] == size:
            cord[0] = 0
            cord[1] += 1
        else:
            cord[0] += 1
    if cord != [size, size]:
        while True:
            img.putpixel(tuple(cord), (69, 138, 207))
            if cord == [size, size]:
                break
            elif cord[0] == size:
                cord[0] = 0
                cord[1] += 1
            else:
                cord[0] += 1</code></pre>
</div>

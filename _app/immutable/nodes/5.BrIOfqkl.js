import{t as _,a as c,e as S}from"../chunks/BtjimLoh.js";import{i as E}from"../chunks/CwjtUaJ3.js";import{G as F,P as I,S as K,O,L as R,v as z,K as g,J as i,N as s,d as t,R as N,e as B}from"../chunks/D2JdEJKk.js";import{s as q}from"../chunks/D68k05c0.js";import{b as D,i as H}from"../chunks/CPOoE3FN.js";import{e as M,i as Q}from"../chunks/BtWpm0yi.js";import{A as T,d as U,f as V}from"../chunks/O4H5wN3e.js";var W=_('<div slot="head"><div class="config-head svelte-13em8qq"><span class="config-title svelte-13em8qq"> </span> <span class="config-meta svelte-13em8qq"> </span></div></div>'),X=_('<button class="generate-image svelte-13em8qq">Generate fleet image</button>'),Y=_('<div slot="details"><div class="config-details svelte-13em8qq"><pre style="overflow: auto;"> </pre> <div class="config-image-area svelte-13em8qq"><div class="image-frame svelte-13em8qq"><div class="image-placeholder svelte-13em8qq">Fleet image not generated</div></div> <!></div></div></div>'),Z=_('<div class="config-card svelte-13em8qq"><div></div> <!></div>'),ee=_('<h1> </h1> <div class="config-list svelte-13em8qq"></div>',1);function de(j,P){F(P,!1);let m=z([]),h=new U;Promise.all(Object.entries(Object.assign({})).map(async([f,e])=>{const o=await e();return{...o.default??o,images:[null,!1]}})).then(f=>{I(m,f.sort((e,o)=>{let r=e.createdAt.localeCompare(o.createdAt);return r==0&&(r=e.outputName.localeCompare(o.outputName)),r}))}),E();var w=ee(),b=K(w),C=i(b);s(b);var y=g(b,2);M(y,5,()=>t(m),Q,(f,e,o)=>{var r=Z(),L=g(i(r),2);T(L,{$$slots:{head:($,k)=>{var l=W(),n=i(l),d=i(n),x=i(d,!0);s(d);var p=g(d,2),u=i(p);s(p),s(n),s(l),O(()=>{q(x,t(e).outputName),q(u,`${t(e).author??""} | ${t(e).createdAt??""}`)}),c($,l)},details:($,k)=>{var l=Y(),n=i(l),d=i(n),x=i(d,!0);s(d);var p=g(d,2),u=i(p);D(u,(a,v)=>(v.images[0]=a,N(()=>t(m))),a=>{var v;return(v=a==null?void 0:a.images)==null?void 0:v[0]},()=>[t(e)]);var G=g(u,2);{var J=a=>{var v=X();S("click",v,async()=>{var A;h.rarity.length===0&&await h.init(),(A=t(e).images[0])==null||A.replaceChildren(await V(t(e),h)),t(e).images[1]=!0,N(()=>t(m))}),c(a,v)};H(G,a=>{t(e).images[1]||a(J)})}s(p),s(n),s(l),O(a=>q(x,a),[()=>JSON.stringify(Object.fromEntries(Object.entries(t(e)).filter(([a,v])=>["id","images","active"].indexOf(a)==-1)),null,2)],B),c($,l)}}}),s(r),c(f,r)}),s(y),O(()=>q(C,`${t(m).length??""} pending configs`)),c(j,w),R()}export{de as component};

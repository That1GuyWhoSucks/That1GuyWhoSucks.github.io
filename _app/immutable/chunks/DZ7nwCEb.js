import{j as D,h as I,i as H,E as L,H as O,k as Y,l as B,o as F,q as e,u as h,v as N,w as R,U,x as j,y as w,z,A as C,B as M,S as P}from"./CR5o5hPY.js";function G(a,l,[r,s]=[0,0]){I&&r===0&&H();var i=a,f=null,c=null,u=U,k=r>0?L:0,n=!1;const q=(T,t=!0)=>{n=!0,E(t,T)},E=(T,t)=>{if(u===(u=T))return;let S=!1;if(I&&s!==-1){if(r===0){const A=i.data;A===O?s=0:A===Y?s=1/0:(s=parseInt(A.substring(1)),s!==s&&(s=u?1/0:-1))}const v=s>r;!!u===v&&(i=B(),F(i),e(!1),S=!0,s=-1)}u?(f?h(f):t&&(f=N(()=>t(i))),c&&R(c,()=>{c=null})):(c?h(c):t&&(c=N(()=>t(i,[r+1,s]))),f&&R(f,()=>{f=null})),S&&e(!0)};D(()=>{n=!1,l(q),n||E(null,null)},k),I&&(i=j)}function b(a,l){return a===l||(a==null?void 0:a[P])===l}function J(a={},l,r,s){return w(()=>{var i,f;return z(()=>{i=f,f=(s==null?void 0:s())||[],C(()=>{a!==r(...f)&&(l(a,...f),i&&b(r(...i),a)&&l(null,...i))})}),()=>{M(()=>{f&&b(r(...f),a)&&l(null,...f)})}}),a}export{J as b,G as i};

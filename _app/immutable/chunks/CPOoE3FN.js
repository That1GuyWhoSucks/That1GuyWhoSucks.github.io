import{b as D,h as A,a as H,a2 as L,a3 as O,H as v,r as F,s as B,f as e,k as h,l as N,p as R,a4 as C,i as M,a5 as P,Y as U,X,q as Z,a6 as j}from"./D2JdEJKk.js";function z(f,l,[r,s]=[0,0]){A&&r===0&&H();var i=f,a=null,c=null,u=C,k=r>0?L:0,n=!1;const Y=(T,t=!0)=>{n=!0,E(t,T)},E=(T,t)=>{if(u===(u=T))return;let b=!1;if(A&&s!==-1){if(r===0){const I=i.data;I===O?s=0:I===v?s=1/0:(s=parseInt(I.substring(1)),s!==s&&(s=u?1/0:-1))}const q=s>r;!!u===q&&(i=F(),B(i),e(!1),b=!0,s=-1)}u?(a?h(a):t&&(a=N(()=>t(i))),c&&R(c,()=>{c=null})):(c?h(c):t&&(c=N(()=>t(i,[r+1,s]))),a&&R(a,()=>{a=null})),b&&e(!0)};D(()=>{n=!1,l(Y),n||E(null,null)},k),A&&(i=M)}function S(f,l){return f===l||(f==null?void 0:f[j])===l}function G(f={},l,r,s){return P(()=>{var i,a;return U(()=>{i=a,a=(s==null?void 0:s())||[],X(()=>{f!==r(...a)&&(l(f,...a),i&&S(r(...i),f)&&l(null,...i))})}),()=>{Z(()=>{a&&S(r(...a),f)&&l(null,...a)})}}),f}export{G as b,z as i};
